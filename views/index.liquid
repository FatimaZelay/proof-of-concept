{% include 'partials/head.liquid' %}
{% include 'partials/head.liquid', producten: productList % %}
<body>

  <aside>
    <div class="logo">MILLEDONI</div>
    <div class="tagline">Finding and sharing gifts ideas</div>
    <h2>I’m looking for a gift for...</h2>
    <div class="search-bar">
      <input type="text" placeholder="Today I want gift for Dreamers">
      <button></button>
    </div>
  </aside>

  <main>
    <header>
      <button class="btn">Create your List</button>
      <div class="user-icon"></div>
    </header>

    <div class="filter-bar">
      <form action="" method="get">
        <select id="category-filter" name="category">
          <option value="all">Filter</option>
          <option value="cycling">Cycling</option>
          <option value="friends">Friends</option>
          <option value="movies">Movies</option>
          <option value="plants">Plants</option>
        </select>
      </form>
    </div>

    <section class="card-grid">
      <article class="card" data-category="cycling">
        <img src="bicicletta.png" alt="Una bicicletta usata da restaurare insieme">
        <div class="content">
          <h3>A used bicycle</h3>
        </div>
      </article>

      <article class="card" data-category="friends">
        <img src="" alt="Create a list for your best friend">
        <div class="content">
          <h3>Create a list for your best friend</h3>
        </div>
      </article>

      <article class="card" data-category="movies">
        <img src="" alt="">
  <section class="card-grid" id="cardGrid">
    {% if productList and productList.size > 0 %}
      {% for product in productList %}
        <article class="card">
          {% if product.image %}
            <img
              src="{{ product.image }}"
              alt="{{ product.name }}"
              onerror src="https://via.placeholder.com/300x200?text=No+Image">
          {% else %}
            <img src="https://via.placeholder.com/300x200?text=No+Image" alt="{{ product.name }}">
          {% endif %}
          <div class="content">
            <h3>{{ product.name }}</h3>
            <small style="color: #666;">€{{ product.amount }}</small>
          </div>
        </article>
      {% endfor %}
    {% else %}
      <article class="card skeleton">
        <div class="skeleton-img"></div>
        <div class="content">
          <h3>A cinema card</h3>
          <div class="skeleton-text short"></div>
        </div>
      </article>

      <article class="card" data-category="plants">
        <img src="" alt="">
      <article class="card skeleton">
        <div class="skeleton-img"></div>
    {% endfor %}
  {% else %}
    {% for product in productList %}
      <article class="card">
        <img src="{{ product.image }}" alt="{{ product.name }}">
        <div class="content">
          <h3>A tropical plant</h3>
          <div class="skeleton-text long"></div>
          <h3>{{ product.name }}</h3>
        </div>
      </article>
    </section>
  </main>
    {% endfor %}
  {% endif %}
</section>

<script>
// Replace skeleton with real content after 2s
setTimeout(() => {
  document.getElementById("cardGrid").innerHTML = `
    <article class="card" data-category="cycling">
      <img src="bicicletta.png" alt="Una bicicletta usata da restaurare insieme">
      <div class="content">
        <h3>A used bicycle</h3>
      </div>
    </article>
    <article class="card" data-category="friends">
      <img src="" alt="Create a list for your best friend">
      <div class="content">
        <h3>Create a list for your best friend</h3>
      </div>
    </article>
    <article class="card" data-category="movies">
      <img src="" alt="">
      <div class="content">
        <h3>A cinema card</h3>
      </div>
    </article>
    <article class="card" data-category="plants">
      <img src="" alt="">
      <div class="content">
        <h3>A tropical plant</h3>
      </div>
    </article>
  `;
}, 2000);
</script>

</body>
</html>

